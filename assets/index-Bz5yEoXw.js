(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const i=document.querySelector("#bg-video"),d=document.querySelector("#startBtn"),c=document.querySelector("#quiz");let l=0;const u=[{question:"Q1. 1が正解",a:{img:"./assets/q1a.png",correct:!0},b:{img:"./assets/q1b.png",correct:!1}},{question:"Q2. 2が正解",a:{img:"./assets/q2a.png",correct:!1},b:{img:"./assets/q2b.png",correct:!0}},{question:"Q3. 1が正解",a:{img:"./assets/q3a.png",correct:!0},b:{img:"./assets/q3b.png",correct:!1}}];d.addEventListener("click",async()=>{d.style.display="none";try{await i.play()}catch(n){console.warn("Video playback blocked:",n)}p(0)});function p(n){const t=u[n];l=n,c.innerHTML=`
    <div class="quiz">
      <div class="question">${t.question}</div>
      <div class="answers">
        <img src="${t.a.img}" onclick="selectAnswer(${t.a.correct})">
        <img src="${t.b.img}" onclick="selectAnswer(${t.b.correct})">
      </div>
    </div>
  `}window.selectAnswer=function(n){const t=document.querySelectorAll(".answers img");t.forEach(e=>{e.style.pointerEvents="none",e.style.opacity="0.6"});const s=document.createElement("div");s.classList.add("result-label"),s.textContent=n?"正解！":"はずれ...",s.classList.add(n?"correct":"wrong");const r=event.target;r.parentElement.style.position="relative",r.parentElement.appendChild(s),g(n?"correct.mp3":"wrong.mp3"),t.forEach(e=>{e.style.transform="scale(0.95)"}),setTimeout(()=>{l<u.length-1?p(l+1):m()},3e3)};function m(){const n=document.getElementById("bg-video");c.innerHTML="",n.pause(),n.style.display="none";const t=document.createElement("img");t.src="./assets/end.jpg",Object.assign(t.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:"1"});const s=document.createElement("div");s.textContent="おしまい!",Object.assign(s.style,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white",fontSize:"3rem",fontWeight:"bold",textShadow:"0 0 10px rgba(0,0,0,0.7)",zIndex:"2",pointerEvents:"none"}),c.appendChild(t),c.appendChild(s);const r=()=>{f(),c.removeEventListener("click",r),s.remove(),t.remove()};c.addEventListener("click",r)}function f(){i.style.display="block",i.currentTime=0,i.pause(),c.innerHTML="",d.style.display="block",l=0}function g(n){new Audio(`./assets/${n}`).play()}
