(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const b=document.body,i=document.querySelector("#bg-video"),f=document.querySelector("#startBtn"),r=document.querySelector("#quiz"),p=document.querySelector("#titleBack"),I=document.querySelector("#titleText");let m=0,d=!1;const h="./assets/sound/bgm.mp3",v="./assets/img/titleTop.png",q="./assets/img/titleEnd.png",w="./assets/img/titleBackWrong.png",B="./assets/img/titleBackEnd.png",T="./assets/img/rogo.png",E="./assets/img/endText.png",u=new Audio(h),l=[{questionTextImg:"./assets/img/q1text.png",titleBackImg:"./assets/img/q1titleBack.jpg",questionNoImg:"./assets/img/q1No.png",startTime:3,a:{beforeImg:"./assets/img/q1aBefore.png",afterImg:"./assets/img/q1aAfter.png",correct:!1},b:{beforeImg:"./assets/img/q1bBefore.png",afterImg:"./assets/img/q1bAfter.png",correct:!0}},{questionTextImg:"./assets/img/q2text.png",titleBackImg:"./assets/img/q2titleBack.png",questionNoImg:"./assets/img/q2No.png",startTime:6,a:{beforeImg:"./assets/img/q2aBefore.png",afterImg:"./assets/img/q2aAfter.png",correct:!0},b:{beforeImg:"./assets/img/q2bBefore.png",afterImg:"./assets/img/q2bAfter.png",correct:!1}},{questionTextImg:"./assets/img/q3text.png",titleBackImg:"./assets/img/q3titleBack.png",questionNoImg:"./assets/img/q3No.png",startTime:9,a:{beforeImg:"./assets/img/q3aBefore.png",afterImg:"./assets/img/q3aAfter.png",correct:!0},b:{beforeImg:"./assets/img/q3bBefore.png",afterImg:"./assets/img/q3bAfter.png",correct:!1}}];function x(){const s=[];l.forEach(e=>{s.push(e.a.beforeImg,e.b.beforeImg,e.a.afterImg,e.b.afterImg,e.questionTextImg,e.questionNoImg,e.titleBackImg)}),s.push("./assets/end.jpg"),s.forEach(e=>{const o=new Image;o.src=e})}x();f.addEventListener("click",async()=>{b.classList.remove("start-screen"),f.style.display="none";try{I.src=q,await i.play(),u.loop=!0,u.currentTime=1.5,u.play()}catch(s){console.warn("Video playback blocked:",s)}d=!1,m=0});i.addEventListener("timeupdate",()=>{if(d)return;const s=l[m];s&&i.currentTime>=s.startTime&&(k(m),d=!0),!s&&i.currentTime>=i.duration-.5&&L()});function k(s){const e=l[s];i.pause(),p.src=e.titleBackImg,r.innerHTML=`
    <div class="quiz">
      <img id="questionNo" src="${e.questionNoImg}">
      <img id="questionText" src="${e.questionTextImg}">
      <div class="answers">
        <img class="ansA" src="${e.a.beforeImg}" onclick="selectAnswer('a')">
        <img class="ansB" src="${e.b.beforeImg}" onclick="selectAnswer('b')">
      </div>
    </div>
  `}window.selectAnswer=function(s){const e=l[m][s],o=e.correct;document.querySelectorAll(".answers img").forEach(y=>{y.style.pointerEvents="none",y.style.opacity="0.6"}),z(o?"correct.mp3":"wrong.mp3"),o||(p.src=w);const t=document.querySelector(`.ans${s.toUpperCase()}`),n=t.getBoundingClientRect(),g=t.parentElement.getBoundingClientRect(),a=document.createElement("img");a.src=e.afterImg,Object.assign(a.style,{position:"absolute",width:"35%",opacity:"1",transition:"opacity 0.3s ease-in-out",zIndex:5,pointerEvents:"none"}),a.style.left=`${n.left-g.left+n.width/2}px`,a.style.top=`${n.top-g.top+n.height/2}px`,a.style.transform="translate(-50%, -50%)",t.parentElement.appendChild(a),setTimeout(()=>{a.remove(),r.innerHTML="",m++,d=!1,i.play()},2e3)};function L(){const s=document.getElementById("bg-video");r.innerHTML="",s.pause(),u.pause(),p.src=B,I.src=q;const e=document.createElement("img");e.src="",Object.assign(e.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:"0"});const o=document.createElement("img");o.src=E,Object.assign(o.style,{position:"absolute",top:"45%",left:"50%",transform:"translate(-50%, -50%)",width:"40vw",zIndex:"2",pointerEvents:"none"});const c=document.createElement("img");c.src=T,Object.assign(c.style,{position:"absolute",top:"65%",left:"50%",transform:"translate(-50%, -50%)",width:"25vw",zIndex:"2",pointerEvents:"none"}),r.appendChild(e),r.appendChild(o),r.appendChild(c);const t=()=>{A(),r.removeEventListener("click",t),o.remove(),c.remove(),e.remove()};r.addEventListener("click",t)}function A(){i.currentTime=0,i.pause(),r.innerHTML="",f.style.display="block",b.classList.add("start-screen"),m=0,p.src=l[0].titleBackImg,I.src=v}function z(s){new Audio(`./assets/sound/${s}`).play()}
